{"ast":null,"code":"import _asyncToGenerator from\"G:/FRONT-END/2nd YEAR/Semester2/4 Project Exam2/project-exam-2-daliasir/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"G:/FRONT-END/2nd YEAR/Semester2/4 Project Exam2/project-exam-2-daliasir/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"G:\\\\FRONT-END\\\\2nd YEAR\\\\Semester2\\\\4 Project Exam2\\\\project-exam-2-daliasir\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useState,useEffect}from\"react\";import{BASE_URL}from\"../../constants/api\";import Heading from\"../layout/Heading\";import Accommodation from\"./Accommodation\";import Row from\"react-bootstrap/Row\";import Spinner from\"react-bootstrap/Spinner\";import Alert from\"react-bootstrap/Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function HomePage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var url=BASE_URL+\"accommodations/\";useEffect(function(){function fetchProducts(){return _fetchProducts.apply(this,arguments);}function _fetchProducts(){_fetchProducts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(url);case 3:response=_context.sent;console.log(response);if(!response.ok){_context.next=13;break;}_context.next=8;return response.json();case 8:json=_context.sent;console.log(json);setProducts(json);_context.next=14;break;case 13:setError(\"An error occurred\");case 14:_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);setError(_context.t0.toString());case 19:_context.prev=19;setLoading(false);return _context.finish(19);case 22:case\"end\":return _context.stop();}}},_callee,null,[[0,16,19,22]]);}));return _fetchProducts.apply(this,arguments);}fetchProducts();},[url]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center m-5\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\"})});}if(error){return/*#__PURE__*/_jsxs(Alert,{variant:\"danger\",children:[\"An error occurred: \",error]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Heading,{content:\"Products\"}),/*#__PURE__*/_jsx(Row,{className:\"product-container\",children:products.map(function(product){var id=product.id,name=product.name,images=product.images,price=product.price;return/*#__PURE__*/_jsx(Accommodation,{id:id,name:name,image:images[0].url,price:price},id);})})]});}","map":{"version":3,"sources":["G:/FRONT-END/2nd YEAR/Semester2/4 Project Exam2/project-exam-2-daliasir/src/components/accommodations/AccommodationsPage.js"],"names":["useState","useEffect","BASE_URL","Heading","Accommodation","Row","Spinner","Alert","HomePage","products","setProducts","loading","setLoading","error","setError","url","fetchProducts","fetch","response","console","log","ok","json","toString","map","product","id","name","images","price"],"mappings":"oeAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,QAAT,KAAyB,qBAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,yBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,C,6IAEA,cAAe,SAASC,CAAAA,QAAT,EAAoB,CACjC,cAAgCR,QAAQ,CAAC,EAAD,CAAxC,wCAAOS,QAAP,eAAiBC,WAAjB,eACA,eAA8BV,QAAQ,CAAC,IAAD,CAAtC,yCAAOW,OAAP,eAAgBC,UAAhB,eACA,eAA0BZ,QAAQ,CAAC,IAAD,CAAlC,yCAAOa,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,GAAG,CAAGb,QAAQ,CAAG,iBAAvB,CAEAD,SAAS,CAAC,UAAM,SACCe,CAAAA,aADD,iJACd,2LAE2BC,CAAAA,KAAK,CAACF,GAAD,CAFhC,QAEUG,QAFV,eAGIC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAHJ,IAIQA,QAAQ,CAACG,EAJjB,gDAKyBH,CAAAA,QAAQ,CAACI,IAAT,EALzB,QAKYA,IALZ,eAMMH,OAAO,CAACC,GAAR,CAAYE,IAAZ,EACAZ,WAAW,CAACY,IAAD,CAAX,CAPN,+BASMR,QAAQ,CAAC,mBAAD,CAAR,CATN,yFAaIA,QAAQ,CAAC,YAAMS,QAAN,EAAD,CAAR,CAbJ,yBAeIX,UAAU,CAAC,KAAD,CAAV,CAfJ,sGADc,gDAoBdI,aAAa,GAEd,CAtBQ,CAsBN,CAACD,GAAD,CAtBM,CAAT,CAwBA,GAAIJ,OAAJ,CAAa,CACX,mBACE,YAAK,SAAS,CAAC,mCAAf,uBACE,KAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,EADF,EADF,CAKD,CAED,GAAIE,KAAJ,CAAW,CACT,mBAAO,MAAC,KAAD,EAAO,OAAO,CAAC,QAAf,iCAA4CA,KAA5C,GAAP,CACD,CAED,mBACE,wCACE,KAAC,OAAD,EAAS,OAAO,CAAC,UAAjB,EADF,cAEE,KAAC,GAAD,EAAK,SAAS,CAAC,mBAAf,UACGJ,QAAQ,CAACe,GAAT,CAAa,SAACC,OAAD,CAAa,CACzB,GAAQC,CAAAA,EAAR,CAAoCD,OAApC,CAAQC,EAAR,CAAYC,IAAZ,CAAoCF,OAApC,CAAYE,IAAZ,CAAkBC,MAAlB,CAAoCH,OAApC,CAAkBG,MAAlB,CAA0BC,KAA1B,CAAoCJ,OAApC,CAA0BI,KAA1B,CACA,mBAAO,KAAC,aAAD,EAAwB,EAAE,CAAEH,EAA5B,CAAgC,IAAI,CAAEC,IAAtC,CAA4C,KAAK,CAAEC,MAAM,CAAC,CAAD,CAAN,CAAUb,GAA7D,CAAkE,KAAK,CAAEc,KAAzE,EAAoBH,EAApB,CAAP,CACD,CAHA,CADH,EAFF,GADF,CAWD","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { BASE_URL } from \"../../constants/api\";\r\nimport Heading from \"../layout/Heading\";\r\nimport Accommodation from \"./Accommodation\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nexport default function HomePage() {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const url = BASE_URL + \"accommodations/\";\r\n\r\n  useEffect(() => {\r\n    async function fetchProducts() {\r\n      try {\r\n        const response = await fetch(url);\r\n        console.log(response);\r\n        if (response.ok) {\r\n          const json = await response.json();\r\n          console.log(json);\r\n          setProducts(json);\r\n        } else {\r\n          setError(\"An error occurred\");\r\n        }\r\n\r\n      } catch (error) {\r\n        setError(error.toString());\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n\r\n    }\r\n    fetchProducts();\r\n\r\n  }, [url]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"d-flex justify-content-center m-5\">\r\n        <Spinner animation=\"border\" />\r\n      </div >\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <Alert variant=\"danger\">An error occurred: {error}</Alert>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Heading content=\"Products\" />\r\n      <Row className=\"product-container\">\r\n        {products.map((product) => {\r\n          const { id, name, images, price } = product;\r\n          return <Accommodation key={id} id={id} name={name} image={images[0].url} price={price} />\r\n        })}\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}