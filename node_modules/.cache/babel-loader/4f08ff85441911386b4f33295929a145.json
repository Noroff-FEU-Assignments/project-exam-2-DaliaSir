{"ast":null,"code":"var _jsxFileName = \"G:\\\\FRONT-END\\\\2nd YEAR\\\\Semester2\\\\4 Project Exam2\\\\project-exam-2-daliasir\\\\src\\\\components\\\\details\\\\DetailsPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { BASE_URL, ENQUIRY_PATH } from \"../../constants/api\";\nimport * as yup from \"yup\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport Heading from \"../layout/Heading\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\nimport Carousel from \"react-bootstrap/Carousel\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport Alert from \"react-bootstrap/Alert\";\nimport FormError from \"../common/FormError\";\nimport Form from \"react-bootstrap/Form\";\nimport Breadcrumb from \"react-bootstrap/Breadcrumb\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validationSchema = yup.object().shape({\n  name: yup.string().required(\"Please enter your full name\").min(3, \"Full name must be at least 3 characters\"),\n  email: yup.string().required(\"Please enter an email address\").email(\"Please enter a valid email address\"),\n  phone: yup.number().positive(\"Number of beds must be a positive number\").integer(),\n  guests: yup.string().required(\"Please enter number of guests staying\").min(1, \"At least 1 guest required\"),\n  check_in: yup.date().required(\"Please select check in date\"),\n  check_out: yup.date().required(\"Please select check out date\")\n});\nexport default function DetailsPage() {\n  _s();\n\n  const [product, setProduct] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [modalImageShow, setModalImageShow] = useState(false);\n  const [modalBookShow, setModalBookShow] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [submittingError, setsubmittingError] = useState(null);\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: {\n      errors,\n      isSubmitSuccessful\n    }\n  } = useForm({\n    resolver: yupResolver(validationSchema)\n  });\n  let {\n    id\n  } = useParams();\n  const url = BASE_URL + `accommodations/${id}`;\n  const urlEnquiries = BASE_URL + ENQUIRY_PATH;\n  document.title = `Holidaze | ${product.name}`;\n  useEffect(function () {\n    async function getData() {\n      try {\n        const response = await axios.get(url);\n        console.log(\"response\", response);\n        setProduct(response.data);\n      } catch (error) {\n        console.log(error);\n        setError(error.toString());\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    getData();\n  }, [url]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center m-5\",\n    children: /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"border\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(Alert, {\n    variant: \"danger\",\n    children: [\"An error occurred: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 21\n  }, this);\n\n  function ImageModal(props) {\n    let imageUrl = 'https://images.unsplash.com/photo-1612437118782-84bb46a5c95a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=627&q=80';\n\n    for (let i = 0; i < product.images.length; i++) {\n      if (product.images.length > 0) {\n        imageUrl = product.images[i].url;\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(Modal, { ...props,\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      className: \"details-modal-view\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Carousel, {\n          variant: \"dark\",\n          className: \"details-carousel\",\n          children: [/*#__PURE__*/_jsxDEV(Carousel.Item, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"d-block w-100\",\n              src: imageUrl,\n              alt: \"Second slide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"d-block w-100\",\n              src: imageUrl,\n              alt: \"Second slide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"d-block w-100\",\n              src: imageUrl,\n              alt: \"Third slide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"d-block w-100\",\n              src: imageUrl,\n              alt: \"Fourth slide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Carousel.Item, {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"d-block w-100\",\n              src: imageUrl,\n              alt: \"Fifth slide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: props.onHide,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n\n  async function onSubmit(data) {\n    setSubmitting(true);\n    setsubmittingError(null); //console.log(data);\n\n    try {\n      const response = await axios.post(urlEnquiries, data);\n      console.log(\"response\", response.data);\n    } catch (error) {\n      console.log(\"error\", error);\n      setsubmittingError(error.toString());\n    } finally {\n      setSubmitting(false);\n      reset();\n    }\n  }\n\n  function BookModal(props) {\n    return /*#__PURE__*/_jsxDEV(Modal, { ...props,\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      animation: true,\n      className: \"enquiry-modal\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          id: \"contained-modal-title-vcenter\",\n          children: [\"Book \", product.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"enquiry-modal__form\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"enquiry-modal__form--success-message\",\n            children: isSubmitSuccessful ? \"Success! Your booking is sent.\" : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleSubmit(onSubmit),\n            children: [submittingError && /*#__PURE__*/_jsxDEV(FormError, {\n              children: submittingError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n              disabled: submitting,\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3 enquiry-modal__form--form-group\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Full Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"name\"),\n                  className: \"form-control\",\n                  placeholder: \"Your full name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this), errors.name && /*#__PURE__*/_jsxDEV(FormError, {\n                  children: errors.name.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3 enquiry-modal__form--form-group\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"email\"),\n                  className: \"form-control\",\n                  placeholder: \"Your email address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 19\n                }, this), errors.email && /*#__PURE__*/_jsxDEV(FormError, {\n                  children: errors.email.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 36\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3 enquiry-modal__form--form-group\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"phone\"),\n                  className: \"form-control\",\n                  placeholder: \"Your phone number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 19\n                }, this), errors.phone && /*#__PURE__*/_jsxDEV(FormError, {\n                  children: errors.phone.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 36\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3 enquiry-modal__form--form-group\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Guests\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"guests\"),\n                  className: \"form-control\",\n                  placeholder: \"Number of guests\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 19\n                }, this), errors.guests && /*#__PURE__*/_jsxDEV(FormError, {\n                  children: errors.guests.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3 enquiry-modal__form--form-group enquiry-modal__form--check\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Check in\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"check_in\"),\n                  type: \"date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 19\n                }, this), errors.check_in && /*#__PURE__*/_jsxDEV(FormError, {\n                  children: errors.check_in.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 39\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3 enquiry-modal__form--form-group enquiry-modal__form--check\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Check out\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register(\"check_out\"),\n                  type: \"date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this), errors.check_out && /*#__PURE__*/_jsxDEV(FormError, {\n                  children: errors.check_out.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 40\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                className: \"enquiry-modal__form--btn-close\",\n                onClick: props.onHide,\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                children: submitting ? 'Booking...' : 'Book'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"details-container container\",\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n        href: \"/\",\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n        href: \"/accommodations\",\n        children: \"Accommodations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n        active: true,\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Heading, {\n      content: product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"details-container__image-container\",\n      children: [product.images.map(img => {\n        let imageUrl = 'https://images.unsplash.com/photo-1612437118782-84bb46a5c95a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=627&q=80';\n\n        if (product.images.length > 0) {\n          imageUrl = img.url;\n        }\n\n        console.log(img);\n        return /*#__PURE__*/_jsxDEV(Col, {\n          className: \"details-container__image col-12 col-sm-6 col-md-3 col-lg-2\",\n          style: {\n            backgroundImage: `url(${imageUrl})`\n          }\n        }, img.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 18\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"details-container__btn-view\",\n        onClick: () => setModalImageShow(true),\n        children: \"View images\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImageModal, {\n        show: modalImageShow,\n        onHide: () => setModalImageShow(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"details-container__info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"details-container__info--price\",\n        children: [product.price, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"NOK / per night\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 71\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"details-container__info--capacity\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-user-friends\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 14\n          }, this), \"  \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Guests\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 55\n          }, this), \" \", product.guests]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-bed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 14\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Beds\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 45\n          }, this), \" \", product.beds]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"details-container__info--address\",\n        children: product.address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"details-container__info--description\",\n        children: product.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: \"details-container__btn-book\",\n      onClick: () => setModalBookShow(true),\n      children: \"Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BookModal, {\n      show: modalBookShow,\n      onHide: () => setModalBookShow(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DetailsPage, \"cPQ/YkApP4wDU3vBmBXXiyO2RmQ=\", false, function () {\n  return [useForm, useParams];\n});\n\n_c = DetailsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailsPage\");","map":{"version":3,"sources":["G:/FRONT-END/2nd YEAR/Semester2/4 Project Exam2/project-exam-2-daliasir/src/components/details/DetailsPage.js"],"names":["useState","useEffect","useParams","useForm","axios","BASE_URL","ENQUIRY_PATH","yup","yupResolver","Heading","Row","Col","Modal","Button","Carousel","Spinner","Alert","FormError","Form","Breadcrumb","validationSchema","object","shape","name","string","required","min","email","phone","number","positive","integer","guests","check_in","date","check_out","DetailsPage","product","setProduct","loading","setLoading","error","setError","modalImageShow","setModalImageShow","modalBookShow","setModalBookShow","submitting","setSubmitting","submittingError","setsubmittingError","register","handleSubmit","reset","formState","errors","isSubmitSuccessful","resolver","id","url","urlEnquiries","document","title","getData","response","get","console","log","data","toString","ImageModal","props","imageUrl","i","images","length","onHide","onSubmit","post","BookModal","message","map","img","backgroundImage","price","beds","address","description"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\nimport { BASE_URL, ENQUIRY_PATH } from \"../../constants/api\";\r\nimport * as yup from \"yup\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport Heading from \"../layout/Heading\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport FormError from \"../common/FormError\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Breadcrumb from \"react-bootstrap/Breadcrumb\";\r\n\r\nconst validationSchema = yup.object().shape({\r\n  name: yup.string().required(\"Please enter your full name\").min(3, \"Full name must be at least 3 characters\"),\r\n  email: yup.string().required(\"Please enter an email address\").email(\"Please enter a valid email address\"),\r\n  phone: yup.number().positive(\"Number of beds must be a positive number\").integer(),\r\n  guests: yup.string().required(\"Please enter number of guests staying\").min(1, \"At least 1 guest required\"),\r\n  check_in: yup.date().required(\"Please select check in date\"),\r\n  check_out: yup.date().required(\"Please select check out date\"),\r\n});\r\n\r\nexport default function DetailsPage() {\r\n  const [product, setProduct] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [modalImageShow, setModalImageShow] = useState(false);\r\n  const [modalBookShow, setModalBookShow] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [submittingError, setsubmittingError] = useState(null);\r\n\r\n  const { register, handleSubmit, reset, formState: { errors, isSubmitSuccessful } } = useForm({\r\n    resolver: yupResolver(validationSchema),\r\n  });\r\n\r\n  let { id } = useParams();\r\n\r\n  const url = BASE_URL + `accommodations/${id}`;\r\n  const urlEnquiries = BASE_URL + ENQUIRY_PATH;\r\n  document.title = `Holidaze | ${product.name}`;\r\n\r\n  useEffect(function () {\r\n    async function getData() {\r\n      try {\r\n        const response = await axios.get(url);\r\n        console.log(\"response\", response);\r\n        setProduct(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n        setError(error.toString());\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    getData();\r\n\r\n  }, [url]);\r\n\r\n  if (loading) return (\r\n    <div className=\"d-flex justify-content-center m-5\">\r\n      <Spinner animation=\"border\" />\r\n    </div >\r\n  );\r\n\r\n  if (error) return <Alert variant=\"danger\">An error occurred: {error}</Alert>;\r\n\r\n  function ImageModal(props) {\r\n    let imageUrl = 'https://images.unsplash.com/photo-1612437118782-84bb46a5c95a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=627&q=80';\r\n    for (let i = 0; i < product.images.length; i++) {\r\n      if (product.images.length > 0) {\r\n        imageUrl = product.images[i].url;\r\n      }\r\n    }\r\n    return (\r\n      <Modal\r\n        {...props}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        className=\"details-modal-view\"\r\n      >\r\n        <Modal.Header closeButton></Modal.Header>\r\n        <Modal.Body >\r\n          <Carousel variant=\"dark\" className=\"details-carousel\">\r\n            <Carousel.Item>\r\n              <img\r\n                className=\"d-block w-100\"\r\n                src={imageUrl}\r\n                alt=\"Second slide\"\r\n              />\r\n            </Carousel.Item>\r\n            <Carousel.Item>\r\n              <img\r\n                className=\"d-block w-100\"\r\n                src={imageUrl}\r\n                alt=\"Second slide\"\r\n              />\r\n            </Carousel.Item>\r\n            <Carousel.Item>\r\n              <img\r\n                className=\"d-block w-100\"\r\n                src={imageUrl}\r\n                alt=\"Third slide\"\r\n              />\r\n            </Carousel.Item>\r\n            <Carousel.Item>\r\n              <img\r\n                className=\"d-block w-100\"\r\n                src={imageUrl}\r\n                alt=\"Fourth slide\"\r\n              />\r\n            </Carousel.Item>\r\n            <Carousel.Item>\r\n              <img\r\n                className=\"d-block w-100\"\r\n                src={imageUrl}\r\n                alt=\"Fifth slide\"\r\n              />\r\n            </Carousel.Item>\r\n          </Carousel>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button onClick={props.onHide}>Close</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  async function onSubmit(data) {\r\n    setSubmitting(true);\r\n    setsubmittingError(null);\r\n\r\n    //console.log(data);\r\n\r\n    try {\r\n      const response = await axios.post(urlEnquiries, data);\r\n      console.log(\"response\", response.data);\r\n    } catch (error) {\r\n      console.log(\"error\", error);\r\n      setsubmittingError(error.toString());\r\n    } finally {\r\n      setSubmitting(false);\r\n      reset();\r\n    }\r\n  }\r\n\r\n  function BookModal(props) {\r\n    return (\r\n      <Modal\r\n        {...props}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        animation\r\n        className=\"enquiry-modal\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            Book {product.name}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"enquiry-modal__form\">\r\n            <p className=\"enquiry-modal__form--success-message\">\r\n              {isSubmitSuccessful ? \"Success! Your booking is sent.\" : \"\"}\r\n            </p>\r\n            <Form onSubmit={handleSubmit(onSubmit)} >\r\n              {submittingError && <FormError>{submittingError}</FormError>}\r\n              <fieldset disabled={submitting}>\r\n                <Form.Group className=\"mb-3 enquiry-modal__form--form-group\" >\r\n                  <Form.Label>Full Name</Form.Label>\r\n                  <input {...register(\"name\")} className=\"form-control\" placeholder=\"Your full name\" />\r\n                  {errors.name && <FormError>{errors.name.message}</FormError>}\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3 enquiry-modal__form--form-group\" >\r\n                  <Form.Label>Email</Form.Label>\r\n                  <input {...register(\"email\")} className=\"form-control\" placeholder=\"Your email address\" />\r\n                  {errors.email && <FormError>{errors.email.message}</FormError>}\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3 enquiry-modal__form--form-group\" >\r\n                  <Form.Label>Phone</Form.Label>\r\n                  <input {...register(\"phone\")} className=\"form-control\" placeholder=\"Your phone number\" />\r\n                  {errors.phone && <FormError>{errors.phone.message}</FormError>}\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3 enquiry-modal__form--form-group\" >\r\n                  <Form.Label>Guests</Form.Label>\r\n                  <input {...register(\"guests\")} className=\"form-control\" placeholder=\"Number of guests\" />\r\n                  {errors.guests && <FormError>{errors.guests.message}</FormError>}\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3 enquiry-modal__form--form-group enquiry-modal__form--check\" >\r\n                  <Form.Label>Check in</Form.Label>\r\n                  <input {...register(\"check_in\")} type=\"date\" />\r\n                  {errors.check_in && <FormError>{errors.check_in.message}</FormError>}\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3 enquiry-modal__form--form-group enquiry-modal__form--check\" >\r\n                  <Form.Label>Check out</Form.Label>\r\n                  <input {...register(\"check_out\")} type=\"date\" />\r\n                  {errors.check_out && <FormError>{errors.check_out.message}</FormError>}\r\n                </Form.Group>\r\n                <Button className=\"enquiry-modal__form--btn-close\" onClick={props.onHide}>Close</Button>\r\n                <Button type=\"submit\">{submitting ? 'Booking...' : 'Book'}</Button>\r\n              </fieldset>\r\n            </Form>\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"details-container container\">\r\n      <Breadcrumb>\r\n        <Breadcrumb.Item href=\"/\">Home</Breadcrumb.Item>\r\n        <Breadcrumb.Item href=\"/accommodations\">Accommodations</Breadcrumb.Item>\r\n        <Breadcrumb.Item active>{product.name}</Breadcrumb.Item>\r\n      </Breadcrumb>\r\n      <Heading content={product.name} />\r\n\r\n      <Row className=\"details-container__image-container\">\r\n        {product.images.map((img) => {\r\n          let imageUrl = 'https://images.unsplash.com/photo-1612437118782-84bb46a5c95a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=627&q=80';\r\n          if (product.images.length > 0) {\r\n            imageUrl = img.url;\r\n          }\r\n          console.log(img);\r\n          return <Col className=\"details-container__image col-12 col-sm-6 col-md-3 col-lg-2\" key={img.id} style={{ backgroundImage: `url(${imageUrl})` }}></Col>\r\n        })}\r\n        <Button className=\"details-container__btn-view\" onClick={() => setModalImageShow(true)}>\r\n          View images\r\n        </Button>\r\n\r\n        <ImageModal\r\n          show={modalImageShow}\r\n          onHide={() => setModalImageShow(false)}\r\n        />\r\n      </Row>\r\n\r\n      <Row className=\"details-container__info\">\r\n        <p className=\"details-container__info--price\">{product.price} <span>NOK / per night</span></p>\r\n        <div className=\"details-container__info--capacity\">\r\n          <p><i className=\"fas fa-user-friends\"></i>  <span>Guests</span> {product.guests}</p>\r\n          <div className=\"dot\"></div>\r\n          <p><i className=\"fas fa-bed\"></i> <span>Beds</span> {product.beds}</p>\r\n        </div>\r\n        <p className=\"details-container__info--address\">{product.address}</p>\r\n        <p className=\"details-container__info--description\">{product.description}</p>\r\n      </Row>\r\n      <Button className=\"details-container__btn-book\" onClick={() => setModalBookShow(true)}>\r\n        Book\r\n      </Button>\r\n      <BookModal\r\n        show={modalBookShow}\r\n        onHide={() => setModalBookShow(false)}\r\n      />\r\n\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}